<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MiTV — Crónica TV</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    html,body{margin:0;height:100%;background:#000}
    video{width:100%;height:100%;background:#000}
    #overlay{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.8);color:#fff;font-family:sans-serif}
    #overlay.show{display:grid}
  </style>
</head>
<body>
  <video id="v" autoplay playsinline controls></video>
  <div id="overlay">▶ Tocá dos veces para activar <b>sonido + pantalla completa</b></div>
  <script>
    const SRC="https://g3.vxral-hor.transport.edge-access.net/a09/ngrp:cronicatv_video1-100044_all/cronicatv_video1-100044_720p.m3u8";
    const v=document.getElementById("v"), overlay=document.getElementById("overlay");
    v.muted=true;
    if(window.Hls && Hls.isSupported()){
      const h=new Hls();h.loadSource(SRC);h.attachMedia(v);
    }else if(v.canPlayType("application/vnd.apple.mpegurl")){v.src=SRC;}
    let lastTap=0;
    document.addEventListener("pointerdown",async()=>{
      const now=Date.now();
      if(now-lastTap<400||overlay.classList.contains("show")){
        v.muted=false;v.volume=1.0;
        if(document.documentElement.requestFullscreen) document.documentElement.requestFullscreen();
        overlay.classList.remove("show");
        try{await v.play();}catch(e){}
      }
      lastTap=now;
    });
    v.addEventListener("playing",()=>overlay.classList.remove("show"));
    v.addEventListener("pause",()=>overlay.classList.add("show"));
  </script>
</body>
</html>
